<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Learning Pods — Premium Study Assistant</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="/static/styles.css?v=4">
</head>
<body>
  <!-- Animated background particles -->
  <div class="particle-bg">
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
    <div class="particle"></div>
  </div>

  <main class="container">
    <!-- Hero Section -->
    <header class="hero">
      <div class="hero-content">
        <div class="hero-icon">
          <i class="fas fa-brain"></i>
        </div>
        <h1>AI Learning Pods</h1>
        <p class="hero-subtitle">Transform educational content into comprehensive study materials in seconds</p>
        <p class="hero-description">Powered by advanced AI • Summaries • Flashcards • Quizzes • Study Plans • PDF Export</p>
      </div>
    </header>

    <!-- Main Form Section -->
    <section class="form-section">
      <!-- Upload Video Section -->
      <div class="input-section">
        <div class="section-header">
          <i class="fas fa-video"></i>
          <h2>Upload Video</h2>
        </div>
        
        <div class="form-group">
          <label for="topic" class="label-text">
            <span class="label-icon"><i class="fas fa-bookmark"></i></span>
            Topic
          </label>
          <div class="input-wrapper">
            <input 
              id="topic" 
              type="text"
              placeholder="e.g., Machine Learning, Python Loops, Quantum Physics"
              class="input-field"
              data-tooltip="Enter the main topic for your study materials"
            />
            <div class="tooltip-hint">Enter topic name</div>
          </div>
        </div>

        <div class="form-group">
          <label for="youtube" class="label-text">
            <span class="label-icon"><i class="fab fa-youtube"></i></span>
            YouTube URL
          </label>
          <div class="input-wrapper">
            <input 
              id="youtube" 
              type="url"
              placeholder="https://youtube.com/watch?v=..."
              class="input-field"
              data-tooltip="Paste a YouTube link to extract transcripts automatically"
            />
            <div class="tooltip-hint">Paste YouTube URL here</div>
          </div>
          <div id="youtube-preview" class="youtube-preview" hidden>
            <div class="preview-thumbnail"></div>
            <div class="preview-info">
              <p class="preview-title"></p>
              <p class="preview-status">Ready to generate</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Divider -->
      <div class="section-divider">
        <span>OR</span>
      </div>

      <!-- Paste Transcript Section -->
      <div class="input-section">
        <div class="section-header">
          <i class="fas fa-file-alt"></i>
          <h2>Paste Transcript</h2>
        </div>

        <div class="form-group">
          <label for="transcript" class="label-text">
            <span class="label-icon"><i class="fas fa-align-left"></i></span>
            Transcript Text
          </label>
          <div class="input-wrapper">
            <textarea 
              id="transcript" 
              rows="6"
              placeholder="Paste your transcript or lecture notes here..."
              class="input-field textarea-field"
              data-tooltip="Paste any text content you want to convert to study materials"
            ></textarea>
            <div class="char-counter">
              <span id="char-count">0</span> / <span id="char-max">10000</span> characters
            </div>
            <div class="tooltip-hint">Paste transcript text</div>
          </div>
        </div>
      </div>

      <!-- Options Section -->
      <div class="options-section">
        <div class="option-group">
          <label class="custom-toggle">
            <input type="checkbox" id="use_agent" checked>
            <span class="toggle-slider"></span>
            <span class="toggle-label">Use AI Agent Flow</span>
            <div class="toggle-tooltip">Enable advanced multi-step AI processing</div>
          </label>
        </div>

        <div class="option-group">
          <label class="custom-toggle">
            <input type="checkbox" id="export_pdf">
            <span class="toggle-slider"></span>
            <span class="toggle-label">Export as PDF</span>
            <div class="toggle-tooltip">Download your study pack as a PDF file</div>
          </label>
        </div>
      </div>

      <!-- Status and Button -->
      <div class="action-section">
        <button id="generate" class="btn-primary">
          <i class="fas fa-sparkles"></i>
          Generate Study Pack
        </button>
        <div id="status" class="status-message"></div>
        <div id="progress" class="progress-bar" hidden>
          <div class="progress-fill"></div>
          <span class="progress-text">Generating your study materials...</span>
        </div>
      </div>
    </section>

    <!-- Results Section -->
    <section id="results" class="results-section" hidden>
      <div class="results-header">
        <h2>Your Study Materials</h2>
        <button class="btn-close" id="close-results">
          <i class="fas fa-times"></i>
        </button>
      </div>

      <!-- Summary -->
      <div class="result-card">
        <div class="result-header">
          <i class="fas fa-lightbulb"></i>
          <h3>Summary</h3>
        </div>
        <div id="summary" class="result-content"></div>
      </div>

      <!-- Flashcards -->
      <div class="result-card">
        <div class="result-header">
          <i class="fas fa-layer-group"></i>
          <h3>Flashcards</h3>
          <span class="card-count" id="flashcard-count">(0)</span>
        </div>
        <div id="flashcards-container" class="flashcards-grid">
          <ul id="flashcards" class="flashcards-list"></ul>
        </div>
      </div>

      <!-- Quiz -->
      <div class="result-card">
        <div class="result-header">
          <i class="fas fa-question-circle"></i>
          <h3>Quiz</h3>
          <span class="card-count" id="quiz-count">(0)</span>
        </div>
        <ol id="quiz" class="quiz-list"></ol>
      </div>

      <!-- Study Plan -->
      <div class="result-card">
        <div class="result-header">
          <i class="fas fa-calendar-alt"></i>
          <h3>Study Plan</h3>
        </div>
        <div id="study_plan" class="study-plan-grid"></div>
      </div>

      <!-- PDF Download -->
      <div id="pdf_link" class="pdf-section"></div>
    </section>

    <!-- Raw response debug (hidden unless needed) -->
    <section id="raw-debug" class="result-card" style="display:none; margin-top:20px;">
      <div class="result-header"><h3>Raw Response (debug)</h3></div>
      <pre id="raw-response" style="white-space:pre-wrap; overflow:auto; max-height:300px;
        background:var(--input-bg); padding:12px; border-radius:8px; border:1px solid var(--divider);"></pre>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <p>AI Learning Pods • Powered by Gemini AI</p>
      <p class="footer-subtitle">Transform any content into personalized study materials</p>
    </footer>
  </main>

  <script src="/static/app.js?v=4"></script>
</body>
</html>
